<!doctype html>
<html>
   <head>
     <html lang="en"></html>
      <meta charset="utf-8">
      <title>Saída Produto</title>
      <link href="/stylesheets/reset.css" rel="stylesheet" type="text/css">
      <link href="/stylesheets/forms.css" rel="stylesheet" type="text/css">
      <link href="/stylesheets/estilo_home.css" rel="stylesheet" type="text/css">
      <script  type="text/javascript" src="/javascripts/jquery-3.2.0.min.js"></script>

      <script  type="text/javascript" src="/javascripts/typeahead.min.js"></script>
   </head>
   <body>
      <header>
         <div name="logo" class="espacamento"></div>
         <nav class="menu_principal">
            <ul>
               <li> <a href="#">Início</a></li>
               <li>
                  <a href="">Produtos</a>
                  <ul>
                     <li><a> Novo Produto </a> </li>
                     <li><a> Entrada e Saída de Produto </a></li>
                     <li><a > Editar Produto</a> </li>
                     <li><a> Editar Produto </a></li>
                  </ul>
               </li>
               <li> <a href="#">Estoque </a></li>
               <li>
                  <a href="#">Fornecedores </a>
                  <ul>
                     <li><a href="#"> Novo Fornecedor</a> </li>
                     <li><a href="#"> Lista de Fornecedores</a> </li>
                     <li><a href="#"> Pesquisar Fornecedor</a> </li>
                     <li>
                        <a href="editarfornecedor.html">
                           Editar Fornecedor
                     </li>
                  </ul>
               </li>
               <li> <a href="#">Relatórios </a></li>
               <li> <a href="#">Lucro </a></li>
               <li> <a href="#">Sair </a></li>
            </ul>
         </nav>
         <div class="clear"></div>
      </header>
      <article>
          <h2> Saída Produto</h2>

        <div id="custom-templates">
            <input type="text" id="search" name="typeahead" class="typeahead tt-query" autocomplete="off" spellcheck="false" placeholder="Entre com o código do produto ou descrição">
        </div>

        <div id="result">
            <form id="form" method="post" action="/atualizarEstoque">
                <div class="form-row">
                    <div class="form-group  md-col-2" >
                        <label for="cd_produto">Código</label>
                        <input id="cd_produto" name="cd_produto" class="form-control" type="text"   />
                    </div>
                </div>

                        <div class="form-row">
                        <div class="form-group  md-col-8">
                            <label for="ds_produto">Nome Produto</label>
                            <input id="ds_produto" class="form-control" name="ds_produto" />
                         </div>
                         </div>
                         <div class="form-row">
                         <div class="form-group md-col-2">
                            <label for="qt_produto">Quantidade</label>
                            <input id="qt_produto" name="qt_produto" type="number" class="form-control" style="width:100%"/> 
                         </div>
                         </div>

                         <button id="btnAtualizar" type="submit"> Atualizar </button>     
                        </form>

                        </div>
          
          </article>
          </body>
         
          </html>
          <script type="text/javascript">
                //<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js">

            var dados = {};
         
            $(document).ready(function(){
                var registros = new Bloodhound({
                  datumTokenizer: function(datum) {
                    return Bloodhound.tokenizers.whitespace(datum.value);
                  },
                  queryTokenizer: Bloodhound.tokenizers.whitespace,
                  remote: {
                    wildcard: '%QUERY',
                    url: '/saidaproduto/search?key=%QUERY'
                  }
                });

                $('#custom-templates .typeahead').typeahead(null, {
                  display: 'ds_produto',
                  name:'produtos',
                  identify: function(obj) { return obj.cd_produto; },
                  templates: {
                    suggestion: function(data){
                          return '<p><strong>' + data.cd_produto + '</strong> - ' + data.ds_produto + '</p>';
                    }
                  },
                  source: registros
                }). bind('typeahead:selected', function(obj, datum, name) {
                    var codigo = document.getElementById('cd_produto');
                    var descricao = document.getElementById('ds_produto');
                    
                    
                    codigo.value=datum.cd_produto;
                    descricao.value=datum.ds_produto;

                });   

            })

            </script>
          
    


           
            